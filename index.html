<html>
<head>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="bootstrap/css/bootstrap.css">
<!-- Optional theme (override) -->
<!-- <link rel="stylesheet" href="bootstrap/css/bootstrap-theme.css"> -->
<!-- Font awesome cdn -->
<!-- <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet"> -->
<!-- Font awesome local -->
<link href="./font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<!-- Tooltip -->
<link rel="stylesheet" href="css/tooltip.css">
<!-- JQuery -->
<script src="js/jquery-1.11.2.min.js"></script>

<!-- JQuery Tablesorter-->
<!-- <script src="js/jquery-tablesorter.min.js"></script> -->

<!-- Latest compiled and minified JavaScript -->
<script src="bootstrap/js/bootstrap.min.js"></script>
<!-- D3JS -->
<script src="js/d3.min.js"></script>
<title>Student dashboard</title>
</head>

<body>

<div class='container'>
<h1>
	<i class='fa fa-user'></i> Student dashboard
	<small id='student_id'>#</small>
	<div class='btn-group pull-right'>
	<a href=# class='btn btn-primary' id='btn100' title='Student with 100% progress'><i class='fa fa-star'></i></a>
	<a href=# class='btn btn-primary' id='btn50' title='Student with good progress'><i class='fa fa-star-half-o'></i></a>
	<a href=# class='btn btn-primary' id='btn0' title='Student with little progress'><i class='fa fa-star-o'></i></a>
	<a href=# class='btn btn-primary' id='btnRand' title='Pick a random student'><i class='fa fa-question'></i></a>
	</div>
</h1>
<hr />

<div class='row'>
	<div class='col-xs-3'>
		<h3><i class='fa fa-star-half-o'></i> Progress</h3>
		<div id='progressOvDiv'></div>
	</div>
	<div class='col-xs-3'>
		<h3><i class='fa fa-calendar'></i> Start</h3>
		<div id='start'>
		x mon yyyy<br />
		<i class='text-muted'>(x days ago)</i>
		</div>
	</div>
	<div class='col-xs-3'>
		<h3 id='connectedTitle'><i class='fa fa-calendar-o'></i> Connected</h3>
		<div id='connectedBody'>
		x times<br />
		Last conn. : x days ago
		<i class='text-muted'>Today is 2018-12-24</i>
		</div>
	</div>
	<div class='col-xs-3'>
		<h3 id='endTitle'><i class='fa fa-flag-checkered'></i> End</h3>
		<div id='endBody'>
		x Days<br />
		(at this pace)
		
		</div>
	</div>
</div>

<script src='js/student_progress_overview.js'></script>

<!-- student_progress_detail.php -->
<h3><i class='fa fa-bar-chart'></i> Progression detail per week<small id='progressMore'></small></h3>
<div id='progressDiv'></div>
<script src='js/student_progress_detail.js'></script>

<!-- student_constancy.php -->
<h3><i class='fa fa-ellipsis-h'></i> Constancy <small id='moreConstant'></small></h3>
<div id='constantDiv'></div>
<script src='js/student_constancy.js'></script>

<!-- student_video_and_problems.php -->
<h3><i class='fa fa-bar-chart'></i> Video watched and problems done<small id='moreVidndprobs'></small></h3>
<div id='vidnprobs'></div>
<script src='js/student_vidnprobs.js'></script>

<script src='js/tooltip.js'></script>

<div id='loader'></div>

<script src='js/csvdata.js'></script>
<script>
$(function(){
	$('#btn0').click(function(){
		//updateStudent(Math.round(Math.random()*500));
		updateStudent(group_0[Math.round(Math.random()*group_0.length-1)]);
	});

	$('#btn50').click(function(){
		//updateStudent(Math.round(Math.random()*500));
		updateStudent(group_50[Math.round(Math.random()*group_50.length-1)]);
	});
	$('#btn100').click(function(){
		//updateStudent(Math.round(Math.random()*500));
		updateStudent(group_100[Math.round(Math.random()*group_100.length-1)]);
	});
	$('#btnRand').click(function(){
		updateStudent(Math.round(Math.random()*500))
	});
	setTimeout(function(){
		updateStudent(group_50[Math.round(Math.random()*group_50.length-1)]);
	},1000);
});

function updateStudent(student_id){
	$('#student_id').html('#'+student_id);
	var dat=getStudentData(student_id);
	computeStats(dat);//columns and arcs
	updateConstancy(dat);
	updateVidnprobs(dat);

	var weeklydata=getWeeklyData(student_id);
	updateProgressDetails(weeklydata)
}
</script>